`Maintain Items` で作成したカタログアイテム（サービスカタログアイテム）の画面にウィジェットを追加するには、ServiceNowの**カタログUIポリシー**や**UIページ**、**カタログクライアントスクリプト**などを利用して実現できます。以下の手順で進めます。

### **手順概要**
1. **カタログUIポリシーの作成**
2. **カタログクライアントスクリプトの作成**
3. **UIページの作成とウィジェットの表示**

## **1. カタログUIポリシーの作成**

カタログUIポリシーを使用して、カタログアイテムのフォーム上に動的にウィジェットの表示や非表示を制御することができます。

### **A. カタログUIポリシーの作成**

1. **ナビゲータ**で「**カタログUIポリシー（Catalog UI Policies）**」を検索し、選択します。
2. **「新規」**をクリックして、新しいカタログUIポリシーを作成します。
3. 以下の情報を入力します：
   - **名前**: ポリシーの名前（例: `Display Widget on Form`）。
   - **カタログ**: 該当のカタログ。
   - **カテゴリ**: 該当のカテゴリ。
   - **アイテム**: 該当のカタログアイテム。

4. **「保存」**をクリックします。

### **B. カタログUIポリシーの条件設定**

1. カタログUIポリシーレコードで、**「条件」**セクションに移動します。
2. ウィジェットの表示条件を設定します（例: 特定の変数が選択された場合）。

3. **「保存」**をクリックして、条件を保存します。

### **C. カタログUIポリシーのスクリプト設定**

1. カタログUIポリシーレコードで、**「スクリプト」**タブに移動します。
2. 必要に応じて、ウィジェットの表示を制御するカスタムスクリプトを記述します。

#### 例
```javascript
function onLoad() {
    // 特定の変数が選択された場合にウィジェットを表示
    if (g_form.getValue('my_variable') == 'show_widget') {
        g_form.setDisplay('widget_container', true);
    }
}
```

## **2. カタログクライアントスクリプトの作成**

カタログクライアントスクリプトを使用して、カタログアイテムのロード時や変更時にウィジェットの動作を制御します。

### **A. カタログクライアントスクリプトの作成**

1. **ナビゲータ**で「**カタログクライアントスクリプト（Catalog Client Scripts）**」を検索し、選択します。
2. **「新規」**をクリックして、新しいクライアントスクリプトを作成します。
3. 以下の情報を入力します：
   - **名前**: スクリプトの名前（例: `Widget Loader`）。
   - **カタログ**: 該当のカタログ。
   - **カテゴリ**: 該当のカテゴリ。
   - **アイテム**: 該当のカタログアイテム。
   - **タイプ**: `onLoad` または `onChange`（表示条件に応じて選択）。

4. **スクリプト**セクションで、クライアントスクリプトを記述します。

#### 例
```javascript
function onLoad() {
    // ウィジェットの表示を制御
    if (g_form.getValue('my_variable') == 'show_widget') {
        var widgetContainer = document.getElementById('widget_container');
        widgetContainer.style.display = 'block';
    }
}
```

5. **「保存」**をクリックしてスクリプトを保存します。

## **3. UIページの作成とウィジェットの表示**

ウィジェットを表示するための**UIページ**を作成し、カタログアイテムのフォーム内に表示します。

### **A. UIページの作成**

1. **ナビゲータ**で「**UIページ（UI Pages）**」を検索し、選択します。
2. **「新規」**をクリックして、新しいUIページを作成します。
3. 以下の情報を入力します：
   - **名前**: UIページの名前（例: `widget_display_page`）。
   - **ID**: UIページの一意のID（例: `widget_display_page`）。

4. **HTMLテンプレート**タブに移動し、以下のHTMLコードを入力します。

#### 例
```html
<sp-widget widget="{
    widgetID: 'my_widget_id',
    options: {
        exampleOption: 'exampleValue'
    }
}"></sp-widget>
```

5. **「保存」**をクリックしてUIページを保存します。

### **B. カタログアイテムのフォームにUIページを埋め込む**

1. **ナビゲータ**で「**カタログ変数（Catalog Variables）**」を検索し、選択します。
2. **「新規」**をクリックして、新しいカタログ変数を作成します。
3. 以下の情報を入力します：
   - **タイプ**: `UIページ`（もしくは `HTML` 変数）。
   - **名前**: 変数の名前（例: `widget_container`）。
   - **カタログアイテム**: 該当のカタログアイテム。
   - **UIページ**: 作成したUIページ（例: `widget_display_page`）。

4. **「保存」**をクリックして変数を保存します。

5. カタログアイテムのフォームに**新しい変数を追加**し、フォーム上に表示されることを確認します。

### **C. ウィジェットの動作確認**

1. カタログアイテムの**プレビュー**または**実際のリクエストフォーム**にアクセスして、ウィジェットが正しく表示され、期待通りに動作することを確認します。

---

## **まとめ**

以下の手順を実施することで、`Maintain Items` で作成したカタログアイテムのフォームにウィジェットを追加できます。ServiceNowの各機能を組み合わせることで、柔軟にフォームをカスタマイズし、ウィジェットの表示や動作を制御できます。

- **カタログUIポリシー**を使用してウィジェットの表示条件を制御。
- **カタログクライアントスクリプト**を使用して、フォームロード時や変更時にウィジェットの動作を調整。
- **UIページ**を作成し、ウィジェットの埋め込みを行う。

### 参考リンク

- [ServiceNow Service Catalog Scripting](https://docs.servicenow.com/bundle/utah-servicenow-application-development/page/build/service-catalog/concept/c_ServiceCatalogScripting.html)
- [ServiceNow UI Pages](https://docs.servicenow.com/bundle/utah-servicenow-application-development/page/build/ui-page/concept/ui-page.html)

このガイドに従って、カタログアイテムの画面にウィジェットを追加し、ユーザーにとって便利な機能を提供してください。